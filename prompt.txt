Prompt para Claude Code â€” CorreÃ§Ã£o de Gerenciamento de Menus por Role

Preciso corrigir o sistema de Gerenciar Menus no meu plugin WordPress. Seguem os pontos:

1. Filtragem de Menus por Role
Hoje, ao criar ou editar menus de links personalizados para uma role especÃ­fica, aparecem menus de links personalizados que pertencem a outras roles.
CorreÃ§Ã£o necessÃ¡ria:
No Gerenciar Menus, quando uma role for selecionada para ediÃ§Ã£o, devem ser exibidos apenas os menus de links personalizados criados para aquela role. Links criados para outras roles nÃ£o devem aparecer.

2. ExclusÃ£o de menus de links personalizados
Ao excluir uma menus de links personalizados e removido da aba ğŸ”— Menus Personalizados, Mas ainda aparece em Gerenciar Menus (inconsistÃªncia).
CorreÃ§Ã£o necessÃ¡ria:
Quando uma menus de links personalizados Ã© excluÃ­do, ele deve ser removida tambÃ©m de todas as listagens em Gerenciar Menus. Garantir que nÃ£o fiquem resÃ­duos no banco de dados (options ou tabela custom se existir).

3. EdiÃ§Ã£o com Ãcone de LÃ¡pis (ğŸ“‹ Gerenciar Menus)
Atualmente, editar um menu menus de links personalizados com o lÃ¡pis nÃ£o aplica a alteraÃ§Ã£o no menu lateral real do WordPress.
CorreÃ§Ã£o necessÃ¡ria:
Ajustar a funÃ§Ã£o que trata a ediÃ§Ã£o de menu links para que:
Ao salvar a ediÃ§Ã£o, o item atualizado seja refletido imediatamente no menu lateral (#adminmenu).
O valor persistido no banco seja atualizado corretamente (nÃ£o apenas na interface).
Regras de ImplementaÃ§Ã£o
Usar wp_ajax_* actions para salvar/excluir/editar itens, sempre retornando JSON vÃ¡lido (wp_send_json_success / wp_send_json_error).
Persistir dados no local correto.

Garantir que a listagem de menus e menus de links personalizados seja sincronizada entre:
ğŸ”— Menus Personalizados
ğŸ“‹ Gerenciar Menus
Menu lateral (#adminmenu)

Testes Esperados
Excluir menus de links personalizados X â†’ some de todas as telas (inclusive Gerenciar Menus).
Editar menu com lÃ¡pis â†’ alteraÃ§Ã£o aparece no menu lateral imediatamente e persiste no banco.

ğŸ‘‰ Tarefa para o Claude Code:
Reescreva as funÃ§Ãµes PHP e JS responsÃ¡veis por Gerenciar Menus para implementar as trÃªs correÃ§Ãµes acima.
Garanta que os dados sejam consistentes entre banco, tela de gerenciamento e exibiÃ§Ã£o no admin.
